<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Planetas</title>
		<link rel="stylesheet" type="text/css" href="static/materialize-css/dist/css/materialize.min.css">
	</head>
	<body>
	<h1>Hello world</h1>
	<div id="container">
	</div>

	<script type="text/javascript">
	function getJSON(url){
	return new Promise(function(resolve,reject){//constructor de la promesa
		//que tenemos que tener para poder usar sus propiedades. 
		//sus parametros son sus estados rechazada y aceptada
		var ajax=new XMLHttpRequest();//XMLHttp se guarda en la variable ajax
		//que es un objeto el cual ya esta programado y lo instancio para  
		//usar sus metodos y lo que contiene
		ajax.open("GET",url);//peticion que se va a hacer a la url(preparando) 
		ajax.send();//que ejecute la peticion
		ajax.onreadystatechange= function(){//cambio de estado
			if(ajax.readyState == 4){ //si el estado del servidor es 4
				//entonces pasa el JSON a texto
				resolve(JSON.parse(ajax.responseText));
				
			}
		}
	})
}
getJSON("data/earth-like-results.json")
.then(function(response){
	return(response.results.forEach(function(planet){
		//retorna los enlaces de cada uno de los planetas.
		getJSON(planet)
		.then(function(dataPlanet){
		//contiene los objetos de cada uno de los planetas.
		 })

	}))
	getJSON(response.results[0])
})//arroja lo contenido en la url
.then(function(responsePlanet){console.log(responsePlanet)
})



	</script>
	<script type="text/javascript" src="static/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="static/materialize-css/dist/js/materialize.min.js"></script>
	</body>
</html>